# General spark settings
spark.master                     spark://spark-master:7077
spark.eventLog.enabled           true
spark.eventLog.dir               file:///spark-logs
spark.history.fs.logDirectory    file:///spark-logs
spark.serializer                 org.apache.spark.serializer.KryoSerializer
spark.driver.memory              1g
spark.executor.memory            1g

# Network timeout configurations
spark.network.timeout            120s
spark.executor.heartbeatInterval 30s

# Dynamic allocation settings
spark.dynamicAllocation.enabled  true
spark.shuffle.service.enabled    true
spark.dynamicAllocation.initialExecutors 1
spark.dynamicAllocation.minExecutors     1
spark.dynamicAllocation.maxExecutors     4

# Memory management
spark.memory.fraction            0.8
spark.memory.storageFraction     0.3

# SQL configurations
spark.sql.autoBroadcastJoinThreshold 10485760 
spark.sql.shuffle.partitions     8

# OpenTelemetry integration
spark.extraListeners             org.apache.spark.metrics.sink.OpenTelemetrySink
spark.metrics.conf.*.sink.otlp.endpoint   http://otel-collector:4317